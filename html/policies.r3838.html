<html lang="en">
<head>
<title>CRAN Repository Policy</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="CRAN Repository Policy">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body {margin-left: 5%; margin-right: 5%;}

H1 {             
    background: white;
    color: rgb(25%, 25%, 25%);
    font-family: monospace;
    font-size: xx-large;
    text-align: center
}

H2 {
    background: white;
    color: rgb(40%, 40%, 40%);
    font-family: monospace;
    font-size: x-large;
}

ul {
    margin-top: 0.25ex;
    margin-bottom: 0.25ex;
    padding-left: 1em;
}
li {
    margin-top: 0.6ex;
    margin-bottom: 0.25ex;
}
p {
    margin-top: 0.6ex;
    margin-bottom: 1.2ex;
}
--></style>
</head>
<body>
<h1 class="settitle">CRAN Repository Policy</h1>
<div align="center">Version $Revision: 3838 $</div>
<!-- </FIXME> -->
<div align="center"><b>CRAN Repository Maintainers</b></div>

<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Preamble">Preamble</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<ul class="menu">
<li><a accesskey="1" href="#Preamble">Preamble</a>
<li><a accesskey="2" href="#Source-packages">Source packages</a>
<li><a accesskey="3" href="#Binary-packages">Binary packages</a>
<li><a accesskey="4" href="#Submission">Submission</a>
<li><a accesskey="5" href="#Re_002dsubmission">Re-submission</a>
</ul>

<div class="node">
<a name="Preamble"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Source-packages">Source packages</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Preamble</h2>

<p>This document describes the policies in place for the
<a href="https://www.R-project.org/">R</a> package repository hosted by the
<a href="https://CRAN.R-project.org/">Comprehensive R Archive Network</a>.  In
what follows, this <a href="https://CRAN.R-project.org/web/packages/">CRAN package repository</a> will be referred to as &ldquo;CRAN&rdquo;.

   <p>CRAN is maintained by the efforts of volunteers (the &ldquo;CRAN team&rdquo;) and
the resources of the <a href="https://www.R-project.org/foundation/index.html">R Foundation</a> and the employers of those volunteers
(WU Wien, TU Dortmund, U Oxford, AT&amp;T Research).  Having a package
distributed by CRAN is subject to a set of policies, and submitting a
package (including an update) to CRAN indicates agreement to these
policies.

   <p>CRAN hosts packages in publication quality and is not a development
platform. A package's contribution has to be non-trivial.

   <p>Distributing code or documentation is subject to legal requirements,
and CRAN operates in many jurisdictions.  One of the aims of these
policies is to ensure that the distributors meet their legal
obligations of diligence without excessive work.

   <p>The time of the volunteers is CRAN's most precious resource, and they
reserve the right to remove or modify packages on CRAN without notice
or explanation (although notification will usually be given).

<div class="node">
<a name="Source-packages"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Binary-packages">Binary packages</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Preamble">Preamble</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Source packages</h2>

     <ul>
<li>The ownership of copyright and intellectual property rights of all
components of the package must be clear and unambiguous (including from
the authors specification in the <samp><span class="file">DESCRIPTION</span></samp> file).  Where code
is copied (or derived) from the work of others (including from R
itself), care must be taken that any copyright/license statements are
preserved and authorship is not misrepresented.

     <p>Preferably, an &lsquo;<samp><span class="samp">Authors@R</span></samp>&rsquo; would be used with &lsquo;<samp><span class="samp">ctb</span></samp>&rsquo; roles for
the authors of such code.  Alternatively, the &lsquo;<samp><span class="samp">Author</span></samp>&rsquo; field should
list these authors as contributors.

     <p>Where copyrights are held by an entity other than the package authors,
this should preferably be indicated via &lsquo;<samp><span class="samp">cph</span></samp>&rsquo; roles in the
&lsquo;<samp><span class="samp">Authors@R</span></samp>&rsquo; field, or using a &lsquo;<samp><span class="samp">Copyright</span></samp>&rsquo; field (if necessary
referring to an <samp><span class="file">inst/COPYRIGHTS</span></samp> file).

     <p>Trademarks must be respected.

     <li>The package's <samp><span class="file">DESCRIPTION</span></samp> file must show both the name and email
address of a single designated maintainer (a person, not a mailing
list).  That contact address must be kept up to date, and be usable for
information mailed by the CRAN team without any form of filtering,
confirmation <small class="dots">...</small>

     <p>The maintainer warrants that (s)he is acting on behalf of all credited
authors and has their agreement to use their material in the way it is
included in the package (or if this is not possible, warrants that it is
used in accordance with the license granted by the original author).

     <p>Additional <samp><span class="file">DESCRIPTION</span></samp> fields could be used for providing email
addresses for contacting the package authors/developers (e.g.,
&lsquo;<samp><span class="samp">Contact</span></samp>&rsquo;), or a URL for submitting bug reports (e.g.,
&lsquo;<samp><span class="samp">BugReports</span></samp>&rsquo;).

     <p>Citations in the &lsquo;<samp><span class="samp">Description</span></samp>&rsquo; field of the <samp><span class="file">DESCRIPTION</span></samp> file
should be in author-year style, followed by a DOI or ISBN for published
materials, or a URL otherwise.  Preferably, the year and identifier
would be enclosed, respectively, in parentheses and angle brackets.

     <li>Source packages may not contain any form of binary executable code.

     <li>Source packages under an Open Source license must provide source or
something which can easily be converted back to source (e.g.,
<samp><span class="file">.rda</span></samp> files) for all components of the package (including for
example PDF documentation, configure files produced by
<samp><span class="command">autoconf</span></samp>). For Java <samp><span class="file">.class</span></samp> and <samp><span class="file">.jar</span></samp> files, the
sources should be in a top-level <samp><span class="file">java</span></samp> directory in the source
package (or that directory should explain how they can be obtained).

     <p>Such packages are not permitted to require (e.g., by specifying in
&lsquo;<samp><span class="samp">Depends</span></samp>&rsquo;, &lsquo;<samp><span class="samp">Imports</span></samp>&rsquo; or &lsquo;<samp><span class="samp">LinkingTo</span></samp>&rsquo; fields) directly or
indirectly a package or external software which restricts users or
usage.

     <p>The package's license must give the right for CRAN to distribute the
package in perpetuity.  Any change to a package's license must be
highlighted when an update is submitted (for there have been instances
of an undocumented license change removing even the right of CRAN to
distribute the package).

     <p>Packages with licenses not listed at
<a href="https://svn.r-project.org/R/trunk/share/licenses/license.db">https://svn.r-project.org/R/trunk/share/licenses/license.db</a> will
generally not be accepted.

     <li>Package authors should make all reasonable efforts to provide
cross-platform portable code.  Packages will not normally be accepted
that do not run on at least two of the major R platforms.  Cases for
Windows-only packages will be considered, but CRAN may not be the most
appropriate place to host them.

     <li>Packages should be named in a way that does not conflict (irrespective
of case) with any current or past CRAN package (the
<a href="https://CRAN.R-project.org/src/contrib/Archive/">Archive area</a> can be
consulted), nor any current <a href="https://www.bioconductor.org/">Bioconductor</a> package.  Package maintainers give the right to use that
package name to CRAN when they submit, so the CRAN team may orphan a
package and allow another maintainer to take it over.

     <p>When a new maintainer wishes to take over a package, this should be
accompanied by the written agreement of the previous maintainer
(unless the package has been formally orphaned).

     <li>Packages on which a CRAN package depends should be available from a
mainstream repository: if any mentioned in &lsquo;<samp><span class="samp">Suggests</span></samp>&rsquo; or
&lsquo;<samp><span class="samp">Enhances</span></samp>&rsquo; fields are not from such a repository, where to obtain
them at a repository should be specified in an
&lsquo;<samp><span class="samp">Additional_repositories</span></samp>&rsquo; field of the <samp><span class="file">DESCRIPTION</span></samp> file (as
a comma-separated list of repository URLs) or for other means of access,
described in the &lsquo;<samp><span class="samp">Description</span></samp>&rsquo; field.

     <p>A package listed in &lsquo;<samp><span class="samp">Suggests</span></samp>&rsquo; or &lsquo;<samp><span class="samp">Enhances</span></samp>&rsquo; should be used
conditionally in examples or tests if it cannot straightforwardly be
installed on the major R platforms.

     <li>CRAN versions of packages should work with the current CRAN and
Bioconductor releases of dependent packages and not anticipate nor
recommend development versions of such packages on other repositories.

     <li>Packages will not normally be removed from CRAN: however, they may
be archived, including at the maintainer's request.

     <p>Packages for which <samp><span class="command">R CMD check</span></samp> gives an &lsquo;<samp><span class="samp">ERROR</span></samp>&rsquo; when a
new R x.y.0 version is released will be archived (or in
exceptional circumstances updated by the CRAN team) unless the
maintainer has set a firm deadline for an upcoming update (and keeps to
it).

     <p>Maintainers will be asked to update packages which show any warnings or
significant notes, especially at around the time of a new x.y.0
release.  Packages which are not updated are liable to be archived.

     <li>Packages should be of the minimum necessary size.  Reasonable
compression should be used for data (not just <samp><span class="file">.rda</span></samp> files) and PDF
documentation: CRAN will if necessary pass the latter through
<samp><span class="command">qpdf</span></samp>.

     <p>As a general rule, neither data nor documentation should exceed 5MB
(which covers several books).  A CRAN package is not an appropriate
way to distribute course notes, and authors will be asked to trim
their documentation to a maximum of 5MB.

     <p>Where a large amount of data is required (even after compression),
consideration should be given to a separate data-only package which
can be updated only rarely (since older versions of packages are
archived in perpetuity).

     <p>Similar considerations apply to other forms of &ldquo;data&rdquo;, e.g.,
<samp><span class="file">.jar</span></samp> files.

     <li>Checking the package should take as little CPU time as possible, as the
CRAN check farm is a very limited resource and there are thousands of
packages.  Long-running tests and vignette code can be made optional for
checking, but do ensure that the checks that are left do exercise all
the features of the package.

     <p>If running a package uses multiple threads/cores it must never use more
than two simultaneously: the check farm is a shared resource and will
typically be running many checks simultaneously.

     <p>Examples should run for no more than a few seconds each: they are
intended to exemplify to the would-be user how to use the functions in
the package.

     <li>The code and examples provided in a package should never do anything
which might be regarded as malicious or anti-social.  The following are
illustrative examples from past experience.

          <ul>
<li>Compiled code should never terminate the R process within which it is
running.  Thus C/C++ calls to <code>assert</code>/<code>abort</code>/<code>exit</code>,
Fortran calls to <code>STOP</code> and so on must be avoided.  Nor may R code
call <code>q()</code>.

          <li>A package must not tamper with the code already loaded into R: any
attempt to change code in the standard and recommended packages which
ship with R is prohibited.  Altering the namespace of another package
should only be done with the agreement of the maintainer of that
package.

          <li>Packages should not write in the user's home filespace (including
clipboards), nor anywhere else on the file system apart from the R
session's temporary directory (or during installation in the location
pointed to by <samp><span class="env">TMPDIR</span></samp>: and such usage should be cleaned up). 
Installing into the system's R installation (e.g., scripts to its
<samp><span class="file">bin</span></samp> directory) is not allowed.

          <p>Limited exceptions may be allowed in interactive sessions if the
package obtains confirmation from the user.

          <li>Packages should not modify the global environment (user's workspace).

          <li>Packages should not start external software (such as PDF viewers or
browsers) during examples or tests unless that specific instance of
the software is explicitly closed afterwards.

          <li>Packages should not send information about the R session to the
maintainer's or third-party sites without obtaining confirmation from
the user.

          <li>Packages must not disable the stack-checking mechanism in the R process
into which they are loaded.

          <li><acronym>CRAN</acronym> packages should use only the public API.  Hence they
should not use entry points not declared as API in installed headers nor
<code>.Internal()</code> nor <code>.Call()</code> etc calls to base packages. Also,
<code>:::</code> should not be used to access undocumented/internal objects in
base packages (nor should other means of access be employed).  Such
usages can cause packages to break at any time, even in patched versions
of R.

          <li>Packages should not attempt to disable compiler diagnostics.

     </ul>

     <li>Changes to <acronym>CRAN</acronym> packages causing significant disruption to
other packages must be agreed with the <acronym>CRAN</acronym> maintainers well
in advance of any publicity.  Introduction of packages providing
back-compatibility versions of already available packages is not
allowed.

     <li>Downloads of additional software or data as part of package installation
or startup should only use <em>secure</em> download mechanisms (e.g.,
&lsquo;<samp><span class="samp">https</span></samp>&rsquo; or &lsquo;<samp><span class="samp">ftps</span></samp>&rsquo;).

</ul>

<div class="node">
<a name="Binary-packages"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Submission">Submission</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Source-packages">Source packages</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Binary packages</h2>

<p>Policies for when a (Windows or OS X) binary package will be distributed:

     <ul>
<li>all its package dependencies on CRAN are available for that platform. 
Dependencies from other repositories will be installed at CRAN's
discretion.

     <li>any external software needed can easily be installed on the build
machine for all the sub-architectures: here &ldquo;easily&rdquo; includes not
depending on specific versions, nor should the installed binary depend
on specific versions.

     <li>it passes <samp><span class="command">R CMD check</span></samp> without error for all the available
sub-architectures, or at CRAN's discretion, for the most important
sub-architecture(s).

   </ul>

   <p>Binary packages are not accepted from maintainers: CRAN will only host
binary packages prepared by those responsible for the binary areas. 
Their packages are made automatically by batch jobs and can take a day
or two to appear on the CRAN master site (maybe longer to reach CRAN
mirrors).

   <p>Binary packages are built for the current version of R: they may also be
built for the last version in the previous series (e.g. R 3.1.3 when R
3.2.x is current) or for R-devel.

   <p>Questions about binary packages should be addressed to those responsible
for building them: Simon Urbanek (OS X) and Uwe Ligges (Windows); email
addresses &lsquo;<samp><var>First.Lastname</var><span class="samp">@R-project.org</span></samp>&rsquo;.

<div class="node">
<a name="Submission"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Re_002dsubmission">Re-submission</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Binary-packages">Binary packages</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Submission</h2>

<p>When submitting a package to CRAN you should use the submission form at
<a href="https://CRAN.R-project.org/submit.html">https://CRAN.R-project.org/submit.html</a> (and not send an email). 
You will be sent a confirmation email which needs to be accepted.

   <p>You can check that the submission was received by
looking at <a href="ftp://CRAN.R-project.org/incoming/">ftp://CRAN.R-project.org/incoming/</a>.  Submission
difficulties (such as non-receipt of the confirmation email) can be
discussed with <a href="mailto:cran-sysadmin@R-project.org">cran-sysadmin@R-project.org</a>.

   <p>In more detail:

     <ul>
<li>All correspondence with CRAN must be sent to <code>CRAN-submissions@R-project.org</code>
(not members of the team) and be in plain text ASCII (and not HTML).

     <li>Uploads must be source tarballs created by <samp><span class="command">R CMD build</span></samp> and
following the <samp><var>PACKAGE</var><span class="file">_</span><var>VERSION</var><span class="file">.tar.gz</span></samp> naming scheme.

     <li>Please ensure that <samp><span class="command">R CMD check --as-cran</span></samp> has been run <em>on
the tarball to be uploaded</em> before submission.  This should be done with
the current version of R-devel (or if that is not possible and explained
in the submission, current R-patched or the current release of R.) 
For new submissions in particular, please take care to include an
informative <code>Description</code> field. See
<a href="submission_checklist.html">submission_checklist.html</a> for details.

     <p>In principle, packages must pass <samp><span class="command">R CMD check</span></samp> without warnings or
significant notes to be admitted to the main <acronym>CRAN</acronym> package
area.  If there are warnings or notes you cannot eliminate (for example
because you believe them to be spurious) send an explanatory note as
part of your covering email, or as a comment on the submission form.

     <p>For interpretation of the URL checks, see <a href="URL_checks.html">URL_checks.html</a>.

     <li>For a package update, please check that any packages depending on this
one still pass <samp><span class="command">R CMD check</span></samp>: it is especially expected that you
will have checked your own packages.  Reverse dependencies can
conveniently be checked using <code>tools::check_packages_in_dir(reverse
= list())</code>, and changes in check status subsequently be analyzed using
<code>tools::check_packages_in_dir_changes()</code>.  A listing of the reverse
dependencies of the current version can be found on the CRAN web page
for the package, or be obtained via
<code>tools::package_dependencies(reverse = TRUE)</code>.

     <li>If for some reason the submission has to be made by someone else (for
example, a co-author) this needs to be explained, and the designated
maintainer will need to confirm the submission.

     <li>Explain any change in the maintainer's email address and if possible
send confirmation from the previous address (by a separate email to
<code>CRAN-submissions@R-project.org</code>) or explain why it is not possible.

     <p>If the package needs special treatment (for example if vignettes can
only be run or re-built on the maintainer's machine or take a very long
time), say so on the submission form.

     <li>Do not email the package itself.

     <li>Once uploaded, no further submissions of that package should be made
whilst the uploaded version is pending processing (which may take a
few days) and you have not received a reply from a CRAN maintainer.

     <li>Part of the processing is that uploads may be renamed by adding one of
the extensions <samp><span class="file">.nowebform</span></samp>, <samp><span class="file">.pending</span></samp> or <samp><span class="file">.noemail</span></samp>:  the
presence of such a file is a sign that the submission process is not
finished yet and CRAN maintainers are waiting for response or
resubmission from the package maintainer (and such a file name should
never be uploaded).

     <li>Submitting updates should be done responsibly and with respect for the
volunteers' time.  Once a package is established (which may take several
rounds), &ldquo;no more than every 1&ndash;2 months&rdquo; seems appropriate.

     <p>Authors can avoid a lot of the all too frequent rounds of updates by
checking carefully for themselves.  It should be normal for those
without Windows machines of their own to use the
<a href="https://win-builder.R-project.org/">winbuilder</a> service to
check a package before submission.  There is a lot of helpful advice on
writing portable packages in <a href="../../manuals.html#R-exts">&ldquo;Writing R Extensions&rdquo;</a>.

     <p>Before submitting a package update, consult the CRAN check page at
&lsquo;<samp><span class="samp">https://CRAN.R-project.org/web/checks/check_results_NAME.html</span></samp>&rsquo;,
substituting NAME by the name of your package.  In particular, wait for
that page to be fully updated after publication of a version (which can
take at least 48 hours) before submitting any corrections.

     <li>If an update will change the package's API and hence affect packages
depending on it, it is expected that you will contact the maintainers of
affected packages and suggest changes, and give them time (at least 2
weeks, ideally more) to prepare
updates before submitting your updated package.  Do mention in
the submission email which packages are affected and that their
maintainers have been informed. 
In order to derive the reverse dependencies of a package including the
addresses of maintainers who have to be notified upon changes, the
function <a href="https://developer.R-project.org/CRAN/Scripts/depends.R">reverse_dependencies_with_maintainers</a> is available from the developer
website.

   </ul>

<div class="node">
<a name="Re-submission"></a>
<a name="Re_002dsubmission"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Submission">Submission</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Re-submission</h2>

<p>Re-submission is done in the same way as submission, using the `Optional
comment' field on the webform (and not a separate email) to explain how
the feedback on previous submission(s) has been addressed.

   <p>Updates to already-published packages must have an increased version
number unless a `same-version update' is requested by the maintainers. 
Increasing the version number at each submission reduces confusion so is
preferred even when a previous submission was not accepted.

</body></html>

